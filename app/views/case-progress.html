{% extends "includes/layout.html" %}

{% block content %}

<main id="content" role="main">

{% include "includes/breadcrumbs.html" %}

{% include "includes/validation-error-messages.html" %}

{% include "includes/title-subtitle.html" %}

{% include "includes/sub-nav.html" %}

<table class="non-javascript">
    <thead>
        <tr>
            <th>Name</th>
            <th>Community Last 16 Weeks</th>
            <th>License Last 16 Weeks</th>
            <th>Total Cases</th>
            <th>Warrants Total</th>
            <th>Unpaid Work Total</th>
            <th>Overdue Terminations Total</th>
        </tr>
    </thead>
    <tbody>
    {% for caseProgress in caseProgressList%}
        <tr>
            <th scope="row">{{ caseProgress.name }}</th>
            <td>{{ caseProgress.communityLast16Weeks }}</td>
            <td>{{ caseProgress.licenseLast16Weeks }}</td>
            <td>{{ caseProgress.totalCases }}</td>
            <td>{{ caseProgress.warrantsTotal }}</td>
            <td>{{ caseProgress.unpaidWorkTotal }}</td>
            <td>{{ caseProgress.overdueTerminationsTotal }}</td>
        </tr>
    {% endfor%}
    </tbody>
</table>

<div id="plotly-div-cases"></div>

</main>
{% endblock %}

{% block body_end %}
    <script type="text/javascript">
        var rowTitle = {{ title | dump | safe }}
        var caseProgress = {{ caseProgressList | dump | safe }}
    </script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="/public/javascripts/case-progress.js"></script>
{% endblock %}
